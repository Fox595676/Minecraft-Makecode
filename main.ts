namespace SpriteKind {
    export const Arm = SpriteKind.create()
    export const HUD = SpriteKind.create()
    export const ExtraBlocks = SpriteKind.create()
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Player1.isHittingTile(CollisionDirection.Bottom)) {
        Player1.vy += -100
    }
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    Arm1.setImage(img`
        8 8 . . . . . . 
        8 8 8 . . . . . 
        . 8 8 8 . . . . 
        . . 8 8 8 . . . 
        . . . 8 8 8 . . 
        . . . . 8 8 8 . 
        . . . . . 8 d d 
        . . . . . . d d 
        `)
    tiles.setTileAt(Wireframe.tilemapLocation(), assets.tile`transparency16`)
    tiles.setWallAt(Wireframe.tilemapLocation(), false)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    Arm1.setImage(img`
        8 8 . . 
        8 8 . . 
        8 8 . . 
        8 8 . . 
        8 8 . . 
        8 8 . . 
        8 8 . . 
        8 e e e 
        d e e e 
        d e e e 
        `)
    if (Block == 0) {
        tiles.setTileAt(Wireframe.tilemapLocation(), assets.tile`Grass_Block`)
        tiles.setWallAt(Wireframe.tilemapLocation(), true)
    } else {
        if (Block == 1) {
            tiles.setTileAt(Wireframe.tilemapLocation(), assets.tile`Stone`)
            tiles.setWallAt(Wireframe.tilemapLocation(), true)
        } else {
            if (Block == 2) {
                tiles.setTileAt(Wireframe.tilemapLocation(), assets.tile`Dirt`)
                tiles.setWallAt(Wireframe.tilemapLocation(), true)
            } else {
                if (Block == 3) {
                    tiles.setTileAt(Wireframe.tilemapLocation(), assets.tile`Wood`)
                    tiles.setWallAt(Wireframe.tilemapLocation(), true)
                } else {
                    if (Block == 4) {
                        tiles.setTileAt(Wireframe.tilemapLocation(), assets.tile`Leaves`)
                        tiles.setWallAt(Wireframe.tilemapLocation(), true)
                    } else {
                        if (Block == 5) {
                            tiles.setTileAt(Wireframe.tilemapLocation(), assets.tile`Normal Chest`)
                            tiles.setWallAt(Wireframe.tilemapLocation(), false)
                        }
                    }
                }
            }
        }
    }
})
controller.A.onEvent(ControllerButtonEvent.Released, function () {
    Arm1.setImage(img`
        8 8 
        8 8 
        8 8 
        8 8 
        8 8 
        8 8 
        8 8 
        8 8 
        d d 
        d d 
        `)
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    // 17
    Block += 1
    if (Block >= 6) {
        Block = 0
    }
    if (Block == 0) {
        Chosen_Block.setImage(img`
            ffffffffffffffffffff
            ffffffffffffffffffff
            ff7777777777777777ff
            ff77777e7777777777ff
            ff7e777e7e7777e77eff
            ffeeee7eee7e7eeeeeff
            ffeeeeeeeeeeeeeeeeff
            ffeeeeeeeeeeeeeeeeff
            ffeeeeeeeeeeeeeebeff
            ffebeebeeeeeeeeeeeff
            ffeeeeeeeeebeeeeeeff
            ffeeeeeeeeeeeeeeeeff
            ffeeeeeeeeeeeeeeeeff
            ffeeeeeeeeeeeeeeeeff
            ffeeebeeeeeeeebeeeff
            ffeeeeeeeeeeeeeeeeff
            ffeeeeeeeeeeeeeeeeff
            ffeeeeeeeeeeeeeeeeff
            ffffffffffffffffffff
            ffffffffffffffffffff
            `)
    } else {
        if (Block == 1) {
            Chosen_Block.setImage(img`
                ffffffffffffffffffff
                ffffffffffffffffffff
                ffddddddddddddddddff
                ffddd11ddddddddbddff
                ffddd11dddddddddddff
                ffddddddddddddddddff
                ffddbddddddbbdddddff
                ffdddddddddbbdddddff
                ffddddddddddddddddff
                ffddddddddddddddddff
                ffdddddbddddddddddff
                ffddddddddddddddddff
                ffddddddddddddddddff
                ff11ddddddddddddddff
                ff11ddddddddddbdddff
                ffdddddd1dddddddddff
                ffddddddddddddddddff
                ffddddddddddddddbdff
                ffffffffffffffffffff
                ffffffffffffffffffff
                `)
        } else {
            if (Block == 2) {
                Chosen_Block.setImage(img`
                    ffffffffffffffffffff
                    ffffffffffffffffffff
                    ffeeeeeeeeeeeeeeeeff
                    ffeeeeeeeeeeebeeeeff
                    ffeeeeeeeeeeeeeebeff
                    ffebeebeeeeeeeeeeeff
                    ffeeeeeeeeebeeeeeeff
                    ffeeeeeeeeeeeeeeeeff
                    ffeeeeeeeeeeeeeeeeff
                    ffeeeeeeeeeeeeeeeeff
                    ffeeebeeebeeeebeeeff
                    ffeeeeeeeeeeeeeeeeff
                    ffeeeeeeeeeeeeeeeeff
                    ffeeeeeeeeeeeeeeeeff
                    ffeeeeeeebeeeeeeeeff
                    ffeebeeeeeeeeeeebeff
                    ffeeeeeeeeeeeeeeeeff
                    ffeeeeeeeeeeeeeeeeff
                    ffffffffffffffffffff
                    ffffffffffffffffffff
                    `)
            } else {
                if (Block == 3) {
                    Chosen_Block.setImage(img`
                        ffffffffffffffffffff
                        ffffffffffffffffffff
                        ff1111111111111111ff
                        ff11ffff1111111111ff
                        ff111ff11111111111ff
                        ff111111111ff11111ff
                        ff11111111ffff1111ff
                        ff1111111111111111ff
                        ff1111111111111111ff
                        ff111111111ffff111ff
                        ff11ffff1111ff1111ff
                        ff111ff11111111111ff
                        ff1111111111111111ff
                        ff11111111fff11111ff
                        ff111111111fff1111ff
                        ff111ffff111111111ff
                        ff1111ff1111111111ff
                        ff1111111111111111ff
                        ffffffffffffffffffff
                        ffffffffffffffffffff
                        `)
                } else {
                    if (Block == 4) {
                        Chosen_Block.setImage(img`
                            ffffffffffffffffffff
                            ffffffffffffffffffff
                            ff7777777777777777ff
                            ff7777777777777777ff
                            ff7777777777771117ff
                            ff7711177777711117ff
                            ff7771177711771117ff
                            ff7777777711777777ff
                            ff7777777771177777ff
                            ff7777777771177777ff
                            ff7777711177777777ff
                            ff7777771177777777ff
                            ff7777777777777117ff
                            ff7777777777771117ff
                            ff7117777711177777ff
                            ff1117777711177777ff
                            ff7777777777777777ff
                            ff7777777777777777ff
                            ffffffffffffffffffff
                            ffffffffffffffffffff
                            `)
                    } else {
                        if (Block == 5) {
                            Chosen_Block.setImage(img`
                                ffffffffffffffffffff
                                ffffffffffffffffffff
                                ffffffffffffffffffff
                                fffeeeeeeeeeeeeeefff
                                fffeeeeeeeeeeeeeefff
                                fffeeeeee44eeeeeefff
                                fffeeeeee44eeeeeefff
                                fffffffff44fffffffff
                                fffeeeeee44eeeeeefff
                                fffeeeeeeeeeeeeeefff
                                fffeeeeeeeeeeeeeefff
                                fffeeeeeeeeeeeeeefff
                                fffeeeeeeeeeeeeeefff
                                fffeeeeeeeeeeeeeefff
                                fffeeeeeeeeeeeeeefff
                                fffeeeeeeeeeeeeeefff
                                fffeeeeeeeeeeeeeefff
                                ffffffffffffffffffff
                                ffffffffffffffffffff
                                ffffffffffffffffffff
                                `)
                        }
                    }
                }
            }
        }
    }
})
controller.B.onEvent(ControllerButtonEvent.Released, function () {
    Arm1.setImage(img`
        8 8 
        8 8 
        8 8 
        8 8 
        8 8 
        8 8 
        8 8 
        8 8 
        d d 
        d d 
        `)
})
mp.onControllerEvent(ControllerEvent.Connected, function (player2) {
	
})
let LocationX2 = 0
let LocationX1 = 0
let Block = 0
let Torch2: Sprite = null
let Torch: Sprite = null
let Phantom: Sprite = null
let Spider: Sprite = null
let Zombie: Sprite = null
let Skeleton: Sprite = null
let Wireframe: Sprite = null
let Chosen_Block: Sprite = null
let Arm1: Sprite = null
let Player1: Sprite = null
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    `)
Player1 = sprites.create(img`
    e e e e e e e e 
    e e e e e e e e 
    e e e e e e e e 
    e e e e e e e e 
    e e e e e d 1 f 
    e e e d d d 1 f 
    d d d d d d d d 
    d d d d d d f f 
    . . d d d d . . 
    . . 6 6 6 6 . . 
    . . 6 6 6 6 . . 
    . . 6 6 6 6 . . 
    . . 6 6 6 6 . . 
    . . 6 6 6 6 . . 
    . . 6 6 6 6 . . 
    . . 6 6 6 6 . . 
    . . 6 6 6 6 . . 
    . . 6 6 6 6 . . 
    . . 6 6 6 6 . . 
    . . 6 6 6 6 . . 
    . . 6 6 6 6 . . 
    . . c c c c . . 
    . . c c c c . . 
    . . c c c c . . 
    . . c c c c . . 
    . . c c c c . . 
    . . c c c c . . 
    . . c c c c . . 
    . . c c c c . . 
    . . c c c c . . 
    `, SpriteKind.Player)
Arm1 = sprites.create(img`
    8 8 
    8 8 
    8 8 
    8 8 
    8 8 
    8 8 
    8 8 
    8 8 
    d d 
    d d 
    `, SpriteKind.Arm)
let Armour = sprites.create(img`
    . f f . . . f f . 
    f 9 6 f . f 9 6 f 
    f 6 6 6 f 6 6 6 f 
    f 8 6 6 6 6 6 8 f 
    . f 6 6 6 6 6 f . 
    . f 6 6 6 6 6 f . 
    . f 6 6 6 6 6 f . 
    . f 6 6 6 6 6 f . 
    . f 8 8 8 8 8 f . 
    . . f f f f f . . 
    `, SpriteKind.HUD)
Chosen_Block = sprites.create(img`
    ffffffffffffffffffff
    ffffffffffffffffffff
    ff7777777777777777ff
    ff77777e7777777777ff
    ff7e777e7e7777e77eff
    ffeeee7eee7e7eeeeeff
    ffeeeeeeeeeeeeeeeeff
    ffeeeeeeeeeeeeeeeeff
    ffeeeeeeeeeeeeeebeff
    ffebeebeeeeeeeeeeeff
    ffeeeeeeeeebeeeeeeff
    ffeeeeeeeeeeeeeeeeff
    ffeeeeeeeeeeeeeeeeff
    ffeeeeeeeeeeeeeeeeff
    ffeeebeeeeeeeebeeeff
    ffeeeeeeeeeeeeeeeeff
    ffeeeeeeeeeeeeeeeeff
    ffeeeeeeeeeeeeeeeeff
    ffffffffffffffffffff
    ffffffffffffffffffff
    `, SpriteKind.HUD)
Wireframe = sprites.create(img`
    f f f f f f f f f f f f f f f f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f . . . . . . . . . . . . . . f 
    f f f f f f f f f f f f f f f f 
    `, SpriteKind.HUD)
scene.cameraFollowSprite(Player1)
tiles.setCurrentTilemap(tilemap`Overworld night`)
Player1.ay = 200
tiles.placeOnTile(Player1, tiles.getTileLocation(1, 10))
Arm1.setFlag(SpriteFlag.GhostThroughTiles, true)
Arm1.setFlag(SpriteFlag.GhostThroughWalls, true)
Armour.setFlag(SpriteFlag.GhostThroughTiles, true)
Armour.setFlag(SpriteFlag.GhostThroughWalls, true)
Chosen_Block.setFlag(SpriteFlag.GhostThroughTiles, true)
Chosen_Block.setFlag(SpriteFlag.GhostThroughWalls, true)
Wireframe.setFlag(SpriteFlag.GhostThroughTiles, true)
Wireframe.setFlag(SpriteFlag.GhostThroughWalls, true)
info.setLife(20)
info.setScore(20)
scene.setBackgroundColor(7)
for (let value of tiles.getTilesByType(assets.tile`Skeleton Spawn0`)) {
    Skeleton = sprites.create(img`
        1 1 1 1 1 1 1 1 
        1 1 1 1 1 1 1 1 
        1 1 1 1 1 1 f f 
        1 1 1 1 1 1 f f 
        1 1 1 1 1 1 1 1 
        1 1 1 1 1 1 1 1 
        1 1 1 1 1 1 f f 
        1 1 1 1 1 1 1 1 
        . . 1 1 1 1 . . 
        . . 1 1 1 1 . . 
        1 1 1 1 1 1 1 1 
        1 1 1 1 1 1 1 1 
        1 . 1 1 1 1 . 1 
        1 . . 1 1 . . 1 
        1 . 1 1 1 1 . 1 
        1 . . 1 1 . . 1 
        1 . 1 1 1 1 . 1 
        1 . . 1 1 . . 1 
        1 . 1 1 1 1 . 1 
        . . . 1 1 . . . 
        . . 1 1 1 1 . . 
        . . 1 1 1 1 . . 
        . 1 1 1 1 1 1 . 
        . 1 1 . . 1 1 . 
        . 1 1 . . 1 1 . 
        . 1 1 . . 1 1 . 
        . 1 1 . . 1 1 . 
        . 1 1 . . 1 1 . 
        . 1 1 . . 1 1 . 
        . 1 1 . . 1 1 . 
        `, SpriteKind.Enemy)
    tiles.placeOnRandomTile(Skeleton, assets.tile`Skeleton Spawn0`)
    tiles.setTileAt(Skeleton.tilemapLocation(), assets.tile`transparency16`)
    Skeleton.y += -10
    Skeleton.ay = 200
}
for (let value2 of tiles.getTilesByType(assets.tile`Zombie Spawn`)) {
    Zombie = sprites.create(img`
        eeeeeeee....
        eeeeeeee....
        eeeeeeee....
        eeeeeeee....
        eeeee7ff....
        eee777ff....
        77777777....
        777777ff....
        ..7777......
        ..6666......
        ..6666......
        ..6888888877
        ..6888888877
        ..6888888877
        ..6666......
        ..6666......
        ..6666......
        ..6666......
        ..6666......
        ..6666......
        ..6666......
        ..cccc......
        ..cccc......
        ..cccc......
        ..cccc......
        ..cccc......
        ..cccc......
        ..cccc......
        ..cccc......
        .1cccc......
        `, SpriteKind.Enemy)
    tiles.placeOnRandomTile(Zombie, assets.tile`Zombie Spawn`)
    tiles.setTileAt(Zombie.tilemapLocation(), assets.tile`transparency16`)
    Zombie.y += -10
    Zombie.ay = 200
}
for (let value3 of tiles.getTilesByType(assets.tile`Spider Spawn`)) {
    Spider = sprites.create(assets.image`Spider`, SpriteKind.Enemy)
    tiles.placeOnRandomTile(Spider, assets.tile`Spider Spawn`)
    tiles.setTileAt(Spider.tilemapLocation(), assets.tile`transparency16`)
    Spider.y += -10
    Spider.ay = 200
}
for (let value4 of tiles.getTilesByType(assets.tile`Phantom Spawn`)) {
    Phantom = sprites.create(img`
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        888888........................
        778888........................
        8888888888888888888888888bbbbb
        8888888888888888888888888bbb..
        ......88888888888888..........
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        `, SpriteKind.Enemy)
    tiles.placeOnRandomTile(Phantom, assets.tile`Phantom Spawn`)
    tiles.setTileAt(Phantom.tilemapLocation(), assets.tile`transparency16`)
    Phantom.y += -10
    animation.runImageAnimation(
    Phantom,
    [img`
        ..............................
        ..............bbbbbb..........
        .............b888888b.........
        ............b888b88b..........
        88bbbb.....b888b888b..........
        888888....b888b88888b.........
        778888...b88888b88888b........
        88888888b8888888888888b88bbbbb
        8888888888888888888888888bbb..
        ......bbbbbbbbbbbbbb..........
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        `,img`
        ..............................
        ..............................
        ..............................
        ..............bbbbbb..........
        88bbbb.......b888888b.........
        888888.....bb888b88b..........
        778888....b888b88888b.........
        888888888b88888b88888b888bbbbb
        8888888888888888888888888bbb..
        ......bbbbbbbbbbbbbb..........
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        `,img`
        ..............................
        ..............................
        ..............................
        ..............................
        88bbbb........................
        888888........................
        778888...bbbbbbbbbbbb.........
        888888888bbbbbbbbbbbbb888bbbbb
        8888888888888888888888888bbb..
        ......bbbbbbbbbbbbbb..........
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        `,img`
        ..............................
        ..............................
        ..............................
        ..............................
        88bbbb........................
        888888........................
        778888........................
        888888888b88888b8b888b888bbbbb
        8888888888b8888b8888b8888bbb..
        ......bbbbbbb888b88b..........
        .............b888888b.........
        ..............bbbbbb..........
        ..............................
        ..............................
        ..............................
        ..............................
        `,img`
        ..............................
        ..............................
        ..............................
        ..............................
        88bbbb........................
        888888........................
        778888...bbbbbbbbbbbb.........
        888888888bbbbbbbbbbbbb888bbbbb
        8888888888888888888888888bbb..
        ......bbbbbbbbbbbbbb..........
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        `,img`
        ..............................
        ..............................
        ..............................
        ..............bbbbbb..........
        88bbbb.......b888888b.........
        888888.....bb888b88b..........
        778888....b888b88888b.........
        888888888b88888b88888b888bbbbb
        8888888888888888888888888bbb..
        ......bbbbbbbbbbbbbb..........
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        `],
    500,
    true
    )
}
for (let value5 of tiles.getTilesByType(assets.tile`Torch Left0`)) {
    Torch = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . 5 . . . . . . 
        . . . . . . . . 4 5 . . . . . . 
        . . . . . . . 4 5 4 . . . . . . 
        . . . . . . . . 4 5 5 . . . . . 
        . . . . . . . . . 5 e e . . . . 
        . . . . . . . . . . e e e . . . 
        . . . . . . . . . . . e e e . . 
        . . . . . . . . . . . . e e e . 
        . . . . . . . . . . . . . e e e 
        . . . . . . . . . . . . . . e e 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.ExtraBlocks)
    tiles.placeOnRandomTile(Torch, assets.tile`Torch Left0`)
    tiles.setTileAt(Torch.tilemapLocation(), assets.tile`transparency16`)
    animation.runImageAnimation(
    Torch,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . 5 . . . . . . 
        . . . . . . . . 4 5 . . . . . . 
        . . . . . . . 4 5 4 . . . . . . 
        . . . . . . . . 4 5 5 . . . . . 
        . . . . . . . . . 5 e e . . . . 
        . . . . . . . . . . e e e . . . 
        . . . . . . . . . . . e e e . . 
        . . . . . . . . . . . . e e e . 
        . . . . . . . . . . . . . e e e 
        . . . . . . . . . . . . . . e e 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 4 . . 4 . . . . . 
        . . . . . . . 5 4 5 . . 4 . . . 
        . . . . . . . 4 5 4 . 5 . . . . 
        . . . . . . . . 4 5 5 . . . . . 
        . . . . . . . 4 . 5 e e . . . . 
        . . . . . . . . . . e e e . . . 
        . . . . . . . . . . . e e e . . 
        . . . . . . . . . . . . e e e . 
        . . . . . . . . . . . . . e e e 
        . . . . . . . . . . . . . . e e 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 4 . . . . . . . 
        . . . . . . . 5 5 4 . . . . . . 
        . . . . . . . 5 5 5 4 . . . . . 
        . . . . . . . . 5 4 5 . . . . . 
        . . . . . . . . . 5 e e . . . . 
        . . . . . . . . . . e e e . . . 
        . . . . . . . . . . . e e e . . 
        . . . . . . . . . . . . e e e . 
        . . . . . . . . . . . . . e e e 
        . . . . . . . . . . . . . . e e 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    randint(400, 600),
    true
    )
}
for (let value6 of tiles.getTilesByType(assets.tile`Torch Right`)) {
    Torch2 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 5 . . . . . . . . . 
        . . . . . . 5 4 . . . . . . . . 
        . . . . . . 4 5 4 . . . . . . . 
        . . . . . 5 5 4 . . . . . . . . 
        . . . . e e 5 . . . . . . . . . 
        . . . e e e . . . . . . . . . . 
        . . e e e . . . . . . . . . . . 
        . e e e . . . . . . . . . . . . 
        e e e . . . . . . . . . . . . . 
        e e . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.ExtraBlocks)
    tiles.placeOnRandomTile(Torch2, assets.tile`Torch Right`)
    tiles.setTileAt(Torch2.tilemapLocation(), assets.tile`transparency16`)
    animation.runImageAnimation(
    Torch2,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 5 . . . . . . . . . 
        . . . . . . 5 4 . . . . . . . . 
        . . . . . . 4 5 4 . . . . . . . 
        . . . . . 5 5 4 . . . . . . . . 
        . . . . e e 5 . . . . . . . . . 
        . . . e e e . . . . . . . . . . 
        . . e e e . . . . . . . . . . . 
        . e e e . . . . . . . . . . . . 
        e e e . . . . . . . . . . . . . 
        e e . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . 4 . . 4 . . . . . . . 
        . . . 4 . . 5 4 5 . . . . . . . 
        . . . . 5 . 4 5 4 . . . . . . . 
        . . . . . 5 5 4 . . . . . . . . 
        . . . . e e 5 . 4 . . . . . . . 
        . . . e e e . . . . . . . . . . 
        . . e e e . . . . . . . . . . . 
        . e e e . . . . . . . . . . . . 
        e e e . . . . . . . . . . . . . 
        e e . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 4 . . . . . . . . 
        . . . . . . 4 5 5 . . . . . . . 
        . . . . . 4 5 5 5 . . . . . . . 
        . . . . . 5 4 5 . . . . . . . . 
        . . . . e e 5 . . . . . . . . . 
        . . . e e e . . . . . . . . . . 
        . . e e e . . . . . . . . . . . 
        . e e e . . . . . . . . . . . . 
        e e e . . . . . . . . . . . . . 
        e e . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    randint(400, 600),
    true
    )
}
game.onUpdate(function () {
    LocationX1 = Player1.x
    Player1.x += controller.dx(100)
    LocationX2 = Player1.x
    Armour.setPosition(scene.cameraProperty(CameraProperty.X) + 61, scene.cameraProperty(CameraProperty.Y) - 54)
    Chosen_Block.setPosition(scene.cameraProperty(CameraProperty.X) - 68, scene.cameraProperty(CameraProperty.Y) + 48)
    if (LocationX1 > LocationX2) {
        Player1.setImage(img`
            e e e e e e e e 
            e e e e e e e e 
            e e e e e e e e 
            e e e e e e e e 
            f 1 d e e e e e 
            f 1 d d d e e e 
            d d d d d d d d 
            f f d d d d d d 
            . . d d d d . . 
            . . 6 6 6 6 . . 
            . . 6 6 6 6 . . 
            . . 6 6 6 6 . . 
            . . 6 6 6 6 . . 
            . . 6 6 6 6 . . 
            . . 6 6 6 6 . . 
            . . 6 6 6 6 . . 
            . . 6 6 6 6 . . 
            . . 6 6 6 6 . . 
            . . 6 6 6 6 . . 
            . . 6 6 6 6 . . 
            . . 6 6 6 6 . . 
            . . c c c c . . 
            . . c c c c . . 
            . . c c c c . . 
            . . c c c c . . 
            . . c c c c . . 
            . . c c c c . . 
            . . c c c c . . 
            . . c c c c . . 
            . . c c c c . . 
            `)
    } else {
        if (LocationX1 == LocationX2) {
        	
        } else {
            Player1.setImage(img`
                e e e e e e e e 
                e e e e e e e e 
                e e e e e e e e 
                e e e e e e e e 
                e e e e e d 1 f 
                e e e d d d 1 f 
                d d d d d d d d 
                d d d d d d f f 
                . . d d d d . . 
                . . 6 6 6 6 . . 
                . . 6 6 6 6 . . 
                . . 6 6 6 6 . . 
                . . 6 6 6 6 . . 
                . . 6 6 6 6 . . 
                . . 6 6 6 6 . . 
                . . 6 6 6 6 . . 
                . . 6 6 6 6 . . 
                . . 6 6 6 6 . . 
                . . 6 6 6 6 . . 
                . . 6 6 6 6 . . 
                . . 6 6 6 6 . . 
                . . c c c c . . 
                . . c c c c . . 
                . . c c c c . . 
                . . c c c c . . 
                . . c c c c . . 
                . . c c c c . . 
                . . c c c c . . 
                . . c c c c . . 
                . . c c c c . . 
                `)
        }
    }
    if (!(controller.B.isPressed())) {
        Arm1.setPosition(Player1.x, Player1.y)
    } else {
        Arm1.setPosition(Player1.x + 3, Player1.y - 1)
    }
    if (!(controller.right.isPressed() || controller.left.isPressed())) {
        Wireframe.setPosition(Player1.x, Player1.y + 20)
        grid.snap(Wireframe, true)
    }
    if (controller.left.isPressed()) {
        if (Wireframe.tileKindAt(TileDirection.Top, assets.tile`transparency16`)) {
            Wireframe.setPosition(Player1.x - 16, Player1.y - 10)
            grid.snap(Wireframe, true)
        } else {
            Wireframe.setPosition(Player1.x - 16, Player1.y - 0)
            grid.snap(Wireframe, true)
        }
    }
    if (controller.right.isPressed()) {
        if (Wireframe.tileKindAt(TileDirection.Top, assets.tile`transparency16`)) {
            Wireframe.setPosition(Player1.x + 16, Player1.y - 0)
            grid.snap(Wireframe, true)
        } else {
            Wireframe.setPosition(Player1.x + 16, Player1.y - 10)
            grid.snap(Wireframe, true)
        }
    }
})
forever(function () {
    if (Player1.y > 500) {
        pause(1000)
        scene.cameraShake(8, 1000)
        Player1.setPosition(Player1.x, 20)
        music.play(music.createSoundEffect(WaveShape.Noise, 1, 1928, 255, 0, 2000, SoundExpressionEffect.None, InterpolationCurve.Logarithmic), music.PlaybackMode.InBackground)
    }
})
